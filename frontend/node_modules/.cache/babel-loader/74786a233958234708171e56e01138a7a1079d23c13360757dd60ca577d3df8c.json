{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8080';\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nexport const authAPI = {\n  register: async (name, email, password, role) => {\n    const response = await api.post('/api/auth/register', {\n      name,\n      email,\n      password,\n      role\n    });\n    return response.data;\n  },\n  login: async (email, password) => {\n    const response = await api.post('/api/auth/login', {\n      email,\n      password\n    });\n    return response.data;\n  }\n};\nexport const adminAPI = {\n  getTasks: async () => {\n    const response = await api.get('/api/admin/tasks');\n    return response.data;\n  },\n  createTask: async taskData => {\n    const response = await api.post('/api/admin/tasks', taskData);\n    return response.data;\n  },\n  updateTask: async (taskId, taskData) => {\n    const response = await api.put(`/api/admin/tasks/${taskId}`, taskData);\n    return response.data;\n  },\n  deleteTask: async taskId => {\n    await api.delete(`/api/admin/tasks/${taskId}`);\n  },\n  getAnalytics: async () => {\n    const response = await api.get('/api/admin/analytics');\n    return response.data;\n  },\n  getUsers: async () => {\n    const response = await api.get('/api/admin/users');\n    return response.data;\n  }\n};\nexport const userAPI = {\n  getTasks: async () => {\n    const response = await api.get('/api/user/tasks');\n    return response.data;\n  },\n  updateTask: async (taskId, taskData) => {\n    const response = await api.put(`/api/user/tasks/${taskId}`, taskData);\n    return response.data;\n  },\n  getProfile: async () => {\n    const response = await api.get('/api/user/profile');\n    return response.data;\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","authAPI","register","name","email","password","role","response","post","data","login","adminAPI","getTasks","get","createTask","taskData","updateTask","taskId","put","deleteTask","delete","getAnalytics","getUsers","userAPI","getProfile"],"sources":["C:/project_new/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { Task, User, Analytics } from '../types';\r\n \r\nconst API_URL = 'http://localhost:8080';\r\n \r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n \r\n// Add token to requests\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n \r\nexport const authAPI = {\r\n  register: async (name: string, email: string, password: string, role: string) => {\r\n    const response = await api.post('/api/auth/register', { name, email, password, role });\r\n    return response.data;\r\n  },\r\n  \r\n  login: async (email: string, password: string) => {\r\n    const response = await api.post('/api/auth/login', { email, password });\r\n    return response.data;\r\n  },\r\n};\r\n \r\nexport const adminAPI = {\r\n  getTasks: async (): Promise<Task[]> => {\r\n    const response = await api.get('/api/admin/tasks');\r\n    return response.data;\r\n  },\r\n  \r\n  createTask: async (taskData: Partial<Task>): Promise<Task> => {\r\n    const response = await api.post('/api/admin/tasks', taskData);\r\n    return response.data;\r\n  },\r\n  \r\n  updateTask: async (taskId: number, taskData: Partial<Task>): Promise<Task> => {\r\n    const response = await api.put(`/api/admin/tasks/${taskId}`, taskData);\r\n    return response.data;\r\n  },\r\n  \r\n  deleteTask: async (taskId: number): Promise<void> => {\r\n    await api.delete(`/api/admin/tasks/${taskId}`);\r\n  },\r\n  \r\n  getAnalytics: async (): Promise<Analytics> => {\r\n    const response = await api.get('/api/admin/analytics');\r\n    return response.data;\r\n  },\r\n  \r\n  getUsers: async (): Promise<User[]> => {\r\n    const response = await api.get('/api/admin/users');\r\n    return response.data;\r\n  },\r\n};\r\n \r\nexport const userAPI = {\r\n  getTasks: async (): Promise<Task[]> => {\r\n    const response = await api.get('/api/user/tasks');\r\n    return response.data;\r\n  },\r\n  \r\n  updateTask: async (taskId: number, taskData: Partial<Task>): Promise<Task> => {\r\n    const response = await api.put(`/api/user/tasks/${taskId}`, taskData);\r\n    return response.data;\r\n  },\r\n  \r\n  getProfile: async (): Promise<User> => {\r\n    const response = await api.get('/api/user/profile');\r\n    return response.data;\r\n  },\r\n};\r\n \r\nexport default api;\r\n "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}